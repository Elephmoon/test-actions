name: Test

on:
  push:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Old way for set env
        run: echo ::set-env name=GITHUB_BRANCH_NAME::$(echo ${GITHUB_REF#refs/heads/})
        
      - name: New way for set env
        run: echo "action_state=${GITHUB_REF#refs/heads/}" >> $GITHUB_ENV
        
      - name: Show old env
        run: echo ${{ env.GITHUB_BRANCH_NAME }}

      - name: Show new env
        run: echo $action_state
